<!DOCTYPE html>
<html lang="zh">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Workers 代理下载</title>
    <link rel="icon" href="https://cdn.jsdelivr.net/gh/thun888/tuku@master/img/Qme9XoLayULdZ19K8CAgk6tTCywdQrtTAWh6r9Z4pqP3oP.ico">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">

    <style>
body,html{width:100%;margin:0 auto 0 auto}div{margin:0;padding:0;box-sizing:border-box;position:relative}#container{width:100%;min-height:100%;display:flex;flex-direction:column}body{min-height:100%;box-sizing:border-box;background-color:#fff}h1{text-align:left;color:#333;letter-spacing:.05em;font-size:2em;text-align:center;pointer-events:none;font-weight:700;font-size:28px}h1{font-family:Miriam Libre,-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,PingFang SC,Noto Sans CJK SC,Sarasa Gothic SC,Microsoft YaHei,sans-serif,Apple Color Emoji,Segoe UI Emoji}#footer{width:100%;height:100px;text-align:center;margin-top:auto}.flex{display:flex;flex-direction:column;justify-content:center;align-items:center}.block{display:block;position:relative}.url{font-size:18px;padding:10px 10px 10px 10px;position:relative;width:300px;border:0;border-bottom:1px solid#bfbfbf;text-align:left;color:#444}input:focus{outline:0}.buttons{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:center;text-align:center;width:100%;height:100%;margin:0 auto;padding:2em 0}.btn{letter-spacing:.1em;cursor:pointer;font-size:14px;font-weight:400;line-height:40px;max-width:120px;position:relative;text-decoration:none;text-transform:uppercase;width:100%}.btn:hover{text-decoration:none}.effect{color:#fff;border:2px solid#000;box-shadow:0 0 0 1px#000 inset;background-color:#000;overflow:hidden;position:relative;transition:all .5s ease-in-out}.effect:hover{border:2px solid#666;background-color:#fff;box-shadow:0 0 0 4px#eee inset}.effect span{transition:all .5s ease-out;z-index:2}.effect:hover span{letter-spacing:.13em;color:#333}.effect:after{background:#fff;border:0 solid#000;content:"";height:155px;left:-75px;opacity:.8;position:absolute;top:-50px;-webkit-transform:rotate(35deg);transform:rotate(35deg);width:50px;transition:all 1s cubic-bezier(.075,.82,.165,1);z-index:1}.effect:hover:after{background:#fff;border:20px solid#000;opacity:0;left:120%;-webkit-transform:rotate(40deg);transform:rotate(40deg)}@media(max-width:500px){h1{margin-top:80px}}@media(prefers-color-scheme:dark){body{background-color:#000}h1{color:#eee}.url{background-color:#000;color:#eee}.effect{color:#000;border:2px solid#fff;box-shadow:0 0 0 1px#fff inset;background-color:#fff}.effect:hover{border:2px solid#eee;background-color:#000;box-shadow:0 0 0 4px#000 inset}.effect:hover span{letter-spacing:.13em;color:#eee}.effect:after{background:#000;border:0 solid#fff}.effect:hover:after{background:#000;border:20px solid#fff}}
    </style>
    <meta name="ljjc::status" content="on">
</head>

<body>
    <div id="container" style="width: 100%;height: 100%;padding-top: 15px;padding-bottom: 100px;margin: 0 auto 0 auto;">
        <h1 style="margin-bottom: 50px; padding-top: 80px;">Workers 代理</h1>
        <div style="padding-bottom: 40px;" target="_blank" class="flex">
            <label class="block" style="width: fit-content;">
          <input class="url" name="url" id="url" placeholder="键入文件链接" pattern="^(?:(?:https|http)://)?+$" required="">
          <div class="bar"></div>
        </label>
            <div class="buttons">
                <button class="btn effect" id="clickBox" click=""><span>下载</span></button>
            </div>
        </div>
    </div>
    <div id="footer">
        <script>
            function random(min, max) {
                return Math.floor(Math.random() * (max - min)) + min;
            }
            document.getElementById('clickBox').addEventListener('click', function() {
                var url = document.getElementById('url').value;
                if (url == '') {
                    alert('请输入文件链接');
                    return;
                }
                var back_num = random(1, 4)
                if (back_num == 1) {
                    var service_url = "https://cors.asdax.workers.dev/";
                }
                if (back_num == 2) {
                    var service_url = "https://proxy-b.orzz.ml/";
                }
                if (back_num == 3) {
                    var service_url = "https://proxy.thun8.workers.dev/";
                }
                var down_url = service_url + url;
                window.open(down_url);
            });
            var domClickBox = document.getElementById("clickBox");
            var domSubmitInput = document.getElementById("submit");
            domClickBox.addEventListener("click", refsInput);

            function refsInput() {
                sleep(300).then(() => {
                    domSubmitInput.click()
                });
                sleep(1000).then(() => {
                    document.getElementById("url").value = ""
                })
            }

            function sleep(time) {
                return new Promise((resolve) => setTimeout(resolve, time))
            }
        </script>
    </div>
</body>

</html>
